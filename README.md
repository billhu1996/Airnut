# ç©ºæ°”æœ 1S Home Assistant æ’ä»¶

## æ¥å…¥æ–¹å¼

1. åœ¨è·¯ç”±å™¨è‡ªå®šä¹‰åŸŸåï¼ˆDNSåŠ«æŒï¼Œæˆ–å…¶ä»–åå­—ï¼‰ä¸­è®¾ç½®***apn.airnut.com***æŒ‡å‘è‡ªå·±çš„Home Assistantå†…ç½‘åœ°å€ï¼Œæ¯”å¦‚æˆ‘çš„æ˜¯***192.168.123.4***ï¼Œå…·ä½“æ–¹æ³•å»ºè®®è‡ªè¡Œæœç´¢ã€‚
2. ç”¨[Easylink app](https://www.mxchip.com/easylink/)è¿æ¥å¥½WiFiå(ç©ºæ°”æœäº®ç»¿ç¯å³è¿æ¥æˆåŠŸ)ï¼ŒåŒå‡»é€€å‡ºWiFiè¿æ¥æ¨¡å¼ã€‚
3. é€šè¿‡hacså®‰è£…ï¼Œæˆ–è€…å¤åˆ¶æ–‡ä»¶åˆ°custom_components
4. è¿›è¡Œå¦‚ä¸‹é…ç½®

```
#è¿™ä¸ªæ˜¯å¿…é¡»æœ‰çš„
airnut:
  #å¤œé—´æ˜¯å¦æ›´æ–°
  is_night_update: False
  #å¤œé—´å¼€å§‹æ—¶é—´
  night_start_hour: 0001-01-01 23:00:00
  #å¤œé—´ç»“æŸæ—¶é—´
  night_end_hour: 0001-01-01 06:00:00

#ipä¸ºç©ºæ°”æœå†…ç½‘çš„ipåœ°å€ï¼Œç©ºæ°”æœ1så…±å››é¡¹æ•°æ®ï¼Œåˆ†åˆ«å†™å››ä¸ªç±»å‹çš„ä¼ æ„Ÿå™¨
sensor:
  - platform: airnut
    ip: "192.168.123.61"
    type: co2
  - platform: airnut
    ip: "192.168.123.61"
    type: temperature
  - platform: airnut
    ip: "192.168.123.61"
    type: humidity
  - platform: airnut
    ip: "192.168.123.61"
    type: pm25

#å¦‚æœæœ‰ç¬¬äºŒä¸ªç©ºæ°”æœï¼Œå¯ä»¥åœ¨ä¸‹é¢ç»§ç»­ï¼Œä»¥æ­¤ç±»æ¨
  - platform: airnut
    ip: "192.168.123.62"
    type: co2
  - platform: airnut
    ip: "192.168.123.62"
    type: temperature
  - platform: airnut
    ip: "192.168.123.62"
    type: humidity
  - platform: airnut
    ip: "192.168.123.62"
    type: pm25

```

## å·²çŸ¥é—®é¢˜

1. åœ¨å…³é—­æœåŠ¡çš„æ—¶å€™æ— æ³•é‡Šæ”¾ç«¯å£ã€‚ç°è±¡æ˜¯é‡å¯haæ—¶ï¼Œæ¯éš”ä¸€æ¬¡å¯åŠ¨å¤±è´¥ä¸€æ¬¡ï¼Œhaæ—¥å¿—ä¸­æœ‰â€œserver got [Errno 98] Address in useâ€é”™è¯¯ã€‚ä¸´æ—¶çš„è§£å†³åŠæ³•æ˜¯å†é‡å¯ä¸€æ¬¡å°±å¥½äº†ã€‚

## å…¶ä»–

æˆ‘ä¸æ˜¯åˆ©ç›Šç›¸å…³æ–¹ï¼Œåªæ˜¯äºŒæ‰‹äº§å“è´­ä¹°è€…ã€‚

èƒ½æŠ“åˆ°çš„æ¶ˆæ¯æ ¼å¼éƒ½ç›´æ¥æ”¾åœ¨dataæ–‡ä»¶ä¸­äº†ï¼Œæš‚æ—¶åªæŠ“åˆ°äº†ä¸»åŠ¨è·å–çš„åŒ…ï¼Œè‡ªåŠ¨ä¸Šä¼ çš„åŒ…æ²¡æŠ“åˆ°ã€‚

æœ‰äººèƒ½çŸ¥é“è‡ªåŠ¨ä¸Šä¼ çš„æ¶ˆæ¯æ ¼å¼å°±å¥½äº†ã€‚

è¿™ä¸€ä¸¤å¤©ä¼‘æ¯æ—¶é—´ä¸´æ—¶æçš„ï¼Œæœ‰å¤§ä½¬æœ‰æ—¶é—´å¯ä»¥å¸®å¿™æ”¹æ”¹ï¼Œæˆ‘pythonå†™çš„ä¸å’‹æ ·ï¼Œåº”è¯¥è¿˜æœ‰bugï¼Œæˆ‘æœ‰æ—¶é—´å°±æ”¹ã€‚ğŸ˜‚

æœ€åè°¢è°¢ä¹‹å‰å†™æ–è®¯M1å±€åŸŸç½‘æ¥å…¥çš„å¤§ä½¬ï¼Œ[åŸè´´åœ°å€](https://bbs.hassbian.com/thread-4952-1-1.html)
